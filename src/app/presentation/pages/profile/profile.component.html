<div class="container">
  <mat-card>
    <mat-card-title>User Profile</mat-card-title>
    <mat-card-content>
      <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>DNI</mat-label>
            <input matInput formControlName="dni" readonly>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" readonly>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Full Name</mat-label>
            <input matInput formControlName="fullName">
            <mat-error *ngIf="profileForm.get('fullName')?.hasError('required')">Full Name is required</mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Address</mat-label>
            <input matInput formControlName="address">
            <mat-error *ngIf="profileForm.get('address')?.hasError('required')">Address is required</mat-error>
          </mat-form-field>
        </div>

        <div *ngIf="loading" class="loading-spinner">
          <mat-spinner diameter="24"></mat-spinner>
        </div>

        <div *ngIf="error" class="error-message">
          {{ error }}
        </div>

        <div *ngIf="successMessage" class="success-message">
          {{ successMessage }}
        </div>

        <button mat-raised-button color="primary" type="submit" [disabled]="profileForm.invalid || loading">
          Save Changes
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>